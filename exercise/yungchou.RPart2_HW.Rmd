---
title: "RPart2_Homework"
author: "NYC Data Science Academy"
output: html_document
---
## Question #1	

Each new term in the Fibonacci sequence is generated by adding the previous two terms. Starting with 1 and 2, the first 10 Fibonacci numbers are:

1, 2, 3, 5, 8, 13, 21, 34, 55, 89,...

Consider all the Fibonacci numbers whose values do not exceed four million. Find the sum of even-valued terms among them.

```{r Question 1}
fib <- c(1,1)

fib1 = 1; fib2 = 1

while(fib2 <= 4e6){
  fib <- c(fib, fib2 <- fib2+fib1)
  fib1 = fib2 - fib1
}

fib <- fib[-length(fib)] # remove the last one
fib
max(fib)

# sum of even-valued terms
sum(fib[fib%%2==0])

```

## Question #2

Write your own code to implement the multiplication between a matrix and a vector. In case you forget it, here's the definition of matrix multiplication. For an mxn matrix A and an n-dimensional vector x, y = Ax is an m-dimensional vector, where 
\begin{align}y[i] = \sum_{j=1}^nA[i,j]x[j] \text{ for } i = 1,2,3,...m\end{align}

```{r Question 2}
mxn_matrix.multiplies.nx1_vector = function(mat,vec){
  
  cat('\nmatrix(',nrow(mat),',',ncol(mat),')\n'); print(mat)
  cat('\nvector(',length(vec),')\n'); print(vec)
  
  res = c()
  
  for(i in 1:nrow(mat)){ 
    holding <- c()
    for(j in 1:ncol(mat)){
      holding<- c(holding, mat[i,j]*vec[j])
    }
    res <- c(res, sum(holding))
  }
  return(cat('\nresulting vector = ', res))
}

mat2x3=matrix(1:6,2,3)
vec3x1=c(7:9)
mxn_matrix.multiplies.nx1_vector(mat2x3, vec3x1)

```


## Question #3:

Write a function that calculates the median absolute deviation (MAD) of a numeric vector. The median absolute deviation is a robust alternative to standard deviation as a measure of dispersion. For vector X, it is defined as  
$$MAD = median(|X_i-median(X)|)$$
```{r Question 3}
mad = function(v){
 return(median(abs(v - median(v))))
}

mad( c(2, 6, 6, 12, 17, 25, 32) ) 

```


## Question #4: 

Suppose we have a  character vector as follows: `Names <- "John Andrew Thomas"`
Write some R code to obtain the following output:

\begin{align}\text{"John@gmail.com; Andrew@gmail.com; Thomas@gmail.com"}\end{align}

```{r Question 4}
Names <- "John Andrew Thomas"
paste(strsplit(Names, split=' ')[[1]], sep='@', 'gmail.com', collapse='; ' )


```

## Question #5:

Write R code to generate a vector with the following elements, **without using loops**.

"aa" "ba" "ca" "da" "ea" "ab" "bb" "cb" "db" "eb" "ac" "bc" "cc" "dc" "ec" "ad" "bd" "cd" "dd" "ed" "ae" "be" "ce" "de" "ee"

```{r Question 5}
a = letters[0:5]
paste0( a, sort( rep(a,length(a)) ) )

```

## Question #6:

Write an R function named `compare` which takes two words as arguments/inputs and returns "Equal Length" if the number of characters are equal in two words and "Not Equal Length" otherwise. It should work as following: 
```
>>compare("EPS568","Summer") 
"Equal Length"					
>>compare("EPS568","SummerA") 
"Not Equal Length"
```
```{r Question 6}
compare = function(word1,word2){
  ifelse(nchar(word1)==nchar(word2), return('Equal Length'), return('Not Equal Length'))
}

compare("EPS568","Summer")
compare("EPS568","SummerA")

```

## Challenge Question:

The game of craps is played as follows:

* Roll two six-sided dice; let x be the sum of the dice on the first roll.
* If x is 7 or 11, you automatically win.
* If x is 2, 3 or 12, you lose.
* If x is any other value (4, 5, 6, 8, 9, 10), x is then called the "point". Continue to re-roll the dice until you either roll the "point" again or a 7. 
    + If you obtain the established point x again, you win.
    + If a 7 is rolled before the point, you lose.


1. Write an R function to play this game once all the way through. You can use the expression 
`x <- sum(sample(1:6, 2, replace=T))` 
to simulate the sum of two rolled dice. The outcome of this expression should be a character element of either "Win" or "Loss".

2. Now, use the R expression you develop in (1), and repeat this game 1000 times hypothetically using a *for loop*. You should save the result of 1000 games in a vector with each element is either "Win" or "Loss". 

```{r Challenge Question}
gameOfCraps = function(p = 0){
 x = sum(sample(1:6, 2, replace = TRUE))
 if(p==0) {
   if(x==7|x==11){ return("Win") }
   else if( x %in% c(2, 3, 12) ){ return("Loss") }
   else { gameOfCraps(x) }
 } else {
   if(x==7){ return("Loss") }
   else if(x==p){ return("Win") }
   else { gameOfCraps(p) }
 }
}

res = c()
for(i in 1:1000){ res<-c(res, gameOfCraps()) }
head(res)

```





